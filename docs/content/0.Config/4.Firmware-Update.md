# Firmware Update

For firmware version v1.00 method "USB flash" has to be used.

**NOTE: During flashing, the device configuration might be erased. Make notes/screenhots of configuration before if needed!**

## 1. OTA (Web UI)
1. Go to the [Releases page on GitHub](https://github.com/meatpiHQ/wican-fw/releases) and download the latest version compatible with your device.
1. Download the appropriate ZIP for your device (where `XXX` is the release version):
    - `wican-fw_vXXX_obd.zip`
    - `wican-fw_vXXX_usb.zip`
    - `wican-fw_vXXX_obd_pro.zip`
1. Unzip the downloaded file to any directory.
1. Open the WiCAN configuration page and go to the **System** tab.
1. In the **Firmware Update** section, click **Choose File** and select one of the following files (depending on your device):
    - `wican-fw_obd_pro_vXXXp.bin`
    - `wican-fw_obd_vXXX.bin`
    - `wican-fw_usb_vXXX.bin`
    The selected file should be shown like this: ![image](/config/firmware/firmware_selected.png)
1. Click **Update** to start the process.
1. During the update the message **Updating please wait ...** will be displayed. The update should take about 60 seconds. ![image](/config/firmware/firmware_updating.png)
1. After completion, return to the **About** tab and verify the **Firmware version** shows the version you just flashed.

## 2. USB Flash For WiCAN:
1. [Go to the latest release page](https://github.com/meatpiHQ/wican-fw/releases/latest) and check the update instructions. This page also list new features and bug fixes provided by this version.
1. Download the file `wican-fw_vXXX_usb.zip` where XXX indicates the release version.
1. Download [**ESP flash tool**](https://www.espressif.com/en/support/download/other-tools).
1. Use the same settings as in the picture below and press `OK` ![image](/config/firmware/flash-select.png)
1. Set the configuration as the picture below, select and fill in the address for each binary. ![image](/config/firmware/flash-config.png)
1. Short the pins as shown, then plug in the USB cable.
    - OBD ![image](/config/firmware/obd.png)
    - USB ![image](/config/firmware/usb.png)
1. After you plug in the USB cable the Orange LED will light up. Now click `START` button on the flash tool.
   
**Note: If you're trying to recover the device, you must 'ERASE' before clicking 'START'. This will ensure that any bad configuration files are deleted.**

## 3. USB Flashing WiCAN PRO Firmware
1. Visit the [latest release page](https://github.com/meatpiHQ/wican-fw/releases/latest) to download the **WiCAN PRO Firmware**. Review the update instructions and check out the list of new features and bug fixes included in the release.  
2. Install the required
   - [Windows CH342 drivers](https://www.wch-ic.com/downloads/CH343SER_EXE.html).
   - [MAC OS](https://github.com/WCHSoftGroup/ch34xser_macos)
   - [Linux](https://github.com/WCHSoftGroup/ch343ser_linux)
4. Connect the WiCAN PRO device to your vehicle's OBD port and plug in the USB cable. Two COM ports should appear in your device manager â€” use `Serial-A`.  
5. Open [ESPTool Web](https://espressif.github.io/esptool-js/), click the **Connect** button, and select the correct COM port.  
6. Click **Erase** to clear any previous configuration.  
7. Add the 4 firmware files, ensuring the filenames and flash addresses match the image below
8. Click **Program** to flash the new firmware onto your WiCAN PRO device.  
    ![Firmware Flashing Guide](/config/firmware/esptool-web-wican-pro.png)  



